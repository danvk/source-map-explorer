exports['CLI should multiple bundles output result as html 1'] = `
<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="data:text/css;base64,LyogVmVuZG9yZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vcm1taC93ZWJ0cmVlbWFwL2Jsb2IvOWZhMGMwNjZhMTBlYTQ0MDJkOTYwYjBjNmMxYTQzMjg0NmFjN2ZjNC93ZWJ0cmVlbWFwLmNzcyAqLwoKLndlYnRyZWVtYXAtbm9kZSB7CiAgLyogUmVxdWlyZWQgYXR0cmlidXRlcy4gKi8KICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgb3ZlcmZsb3c6IGhpZGRlbjsgICAvKiBUbyBoaWRlIG92ZXJsb25nIGNhcHRpb25zLiAqLwogIGJhY2tncm91bmQ6IHdoaXRlOyAgLyogTm9kZXMgbXVzdCBiZSBvcGFxdWUgZm9yIHpJbmRleCBsYXllcmluZy4gKi8KICBib3JkZXI6IHNvbGlkIDFweCBibGFjazsgIC8qIENhbGN1bGF0aW9ucyBhc3N1bWUgMXB4IGJvcmRlci4gKi8KCiAgLyogT3B0aW9uYWw6IENTUyBhbmltYXRpb24uICovCiAgdHJhbnNpdGlvbjogdG9wICAgIDAuM3MsCiAgICAgICAgICAgICAgbGVmdCAgIDAuM3MsCiAgICAgICAgICAgICAgd2lkdGggIDAuM3MsCiAgICAgICAgICAgICAgaGVpZ2h0IDAuM3M7Cn0KCi8qIE9wdGlvbmFsOiBoaWdobGlnaHQgbm9kZXMgb24gbW91c2VvdmVyLiAqLwoud2VidHJlZW1hcC1ub2RlOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjZWVlOwp9CgovKiBPcHRpb25hbDogRGlmZmVyZW50IGJhY2tncm91bmQgY29sb3JzIGRlcGVuZGluZyBvbiBzeW1ib2wuICovCi53ZWJ0cmVlbWFwLXN5bWJvbC1ic3MgewogIGJhY2tncm91bmQ6ICM2NkMyQTU7Cn0KLndlYnRyZWVtYXAtc3ltYm9sLWRhdGEgewogIGJhY2tncm91bmQ6ICNGQzhENjI7Cn0KLndlYnRyZWVtYXAtc3ltYm9sLXJlYWQtb25seV9kYXRhIHsKICBiYWNrZ3JvdW5kOiAjOERBMENCOwp9Ci53ZWJ0cmVlbWFwLXN5bWJvbC1jb2RlIHsKICBiYWNrZ3JvdW5kOiAjRTc4QUMzOwp9Ci53ZWJ0cmVlbWFwLXN5bWJvbC13ZWFrX3N5bWJvbCB7CiAgYmFja2dyb3VuZDogI0E2RDg1NDsKfQoud2VidHJlZW1hcC1zeW1ib2wtYnNzLndlYnRyZWVtYXAtYWdncmVnYXRlIHsKICBiYWNrZ3JvdW5kOiAjQjNFMkNEOwp9Ci53ZWJ0cmVlbWFwLXN5bWJvbC1kYXRhLndlYnRyZWVtYXAtYWdncmVnYXRlIHsKICBiYWNrZ3JvdW5kOiAjRkRDREFDOwp9Ci53ZWJ0cmVlbWFwLXN5bWJvbC1yZWFkLW9ubHlfZGF0YS53ZWJ0cmVlbWFwLWFnZ3JlZ2F0ZSB7CiAgYmFja2dyb3VuZDogI0NCRDVFODsKfQoud2VidHJlZW1hcC1zeW1ib2wtY29kZS53ZWJ0cmVlbWFwLWFnZ3JlZ2F0ZSB7CiAgYmFja2dyb3VuZDogI0Y0Q0FFNDsKfQoud2VidHJlZW1hcC1zeW1ib2wtd2Vha19zeW1ib2wud2VidHJlZW1hcC1hZ2dyZWdhdGUgewogIGJhY2tncm91bmQ6ICNFNkY1Qzk7Cn0KCiNsZWdlbmQgPiAqIHsKICBib3JkZXI6IHNvbGlkIDFweCAjNDQ0Owp9CgovKiBPcHRpb25hbDogRGlmZmVyZW50IGJvcmRlcnMgZGVwZW5kaW5nIG9uIGxldmVsLiAqLwoud2VidHJlZW1hcC1sZXZlbDAgewogIGJvcmRlcjogc29saWQgMXB4ICM0NDQ7Cn0KLndlYnRyZWVtYXAtbGV2ZWwxIHsKICBib3JkZXI6IHNvbGlkIDFweCAjNjY2Owp9Ci53ZWJ0cmVlbWFwLWxldmVsMiB7CiAgYm9yZGVyOiBzb2xpZCAxcHggIzg4ODsKfQoud2VidHJlZW1hcC1sZXZlbDMgewogIGJvcmRlcjogc29saWQgMXB4ICNhYWE7Cn0KLndlYnRyZWVtYXAtbGV2ZWw0IHsKICBib3JkZXI6IHNvbGlkIDFweCAjY2NjOwp9CgovKiBPcHRpb25hbDogc3R5bGluZyBvbiBub2RlIGNhcHRpb25zLiAqLwoud2VidHJlZW1hcC1jYXB0aW9uIHsKICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsKICBmb250LXNpemU6IDExcHg7CiAgcGFkZGluZzogMnB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLyogT3B0aW9uYWw6IHN0eWxpbmcgb24gY2FwdGlvbnMgb24gbW91c2UgaG92ZXIuICovCi8qLndlYnRyZWVtYXAtbm9kZTpob3ZlciA+IC53ZWJ0cmVlbWFwLWNhcHRpb24gewogIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Ki8K">
  <title>[combined] - Source Map Explorer</title>

  <style>
    html, body { height: 100% }

    body {
      font-family: sans-serif;
      font-size: 0.8em;
      margin: 0;
      display: flex;
    }

    select, .webtreemap-caption { font-family: sans-serif }

    #content {
      display: flex;
      width: 100%;
      flex-direction: column;
      padding: 15px;
    }

    #header {
      display: flex;
      padding: 0 0 15px 15px;
      align-items: center;
    }

    #map {
      flex-grow: 1;
      position: relative;
      cursor: pointer;
      -webkit-user-select: none;
    }
  </style>
</head>
<body>
  <div id="content">
    
    <div id="header">
      <label for="bundle-select">Bundle:&nbsp;</label>
      <select id="bundle-select">
        <option value="0">[combined] (3.62 KB)</option>
        <option value="1">data/inline-map.js (2.92 KB)</option>
        <option value="2">data/foo.min.js (718 B)</option>
      </select>
    </div>
    
    <div id="map"></div>
  </div>
</body>

<script>
const treeDataMap = {"0":{"name":"[combined]","data":{"name":"/ \u2022 3.62 KB \u2022 100.0%","data":{"$area":3707},"children":[{"name":"inline-map.js \u2022 2.92 KB \u2022 80.7%","data":{"$area":2990},"children":[{"name":"node_modules \u2022 480 B \u2022 12.9%","data":{"$area":480},"children":[{"name":"browser-pack \u2022 480 B \u2022 12.9%","data":{"$area":480},"children":[{"name":"_prelude.js \u2022 480 B \u2022 12.9%","data":{"$area":480}}]}]},{"name":"src \u2022 201 B \u2022 5.4%","data":{"$area":201},"children":[{"name":"bar.js \u2022 104 B \u2022 2.8%","data":{"$area":104}},{"name":"foo.js \u2022 97 B \u2022 2.6%","data":{"$area":97}}]},{"name":"[sourceMappingURL] \u2022 2.25 KB \u2022 62.3%","data":{"$area":2308}},{"name":"[unmapped] \u2022 1 B \u2022 0.0%","data":{"$area":1}}]},{"name":"foo.min.js \u2022 717 B \u2022 19.3%","data":{"$area":717},"children":[{"name":"node_modules \u2022 480 B \u2022 12.9%","data":{"$area":480},"children":[{"name":"browser-pack \u2022 480 B \u2022 12.9%","data":{"$area":480},"children":[{"name":"_prelude.js \u2022 480 B \u2022 12.9%","data":{"$area":480}}]}]},{"name":"src \u2022 201 B \u2022 5.4%","data":{"$area":201},"children":[{"name":"bar.js \u2022 104 B \u2022 2.8%","data":{"$area":104}},{"name":"foo.js \u2022 97 B \u2022 2.6%","data":{"$area":97}}]},{"name":"[sourceMappingURL] \u2022 35 B \u2022 0.9%","data":{"$area":35}},{"name":"[unmapped] \u2022 1 B \u2022 0.0%","data":{"$area":1}}]}]}},"1":{"name":"data/inline-map.js","data":{"name":"/ \u2022 2.92 KB \u2022 100.0%","data":{"$area":2990},"children":[{"name":"node_modules \u2022 480 B \u2022 16.1%","data":{"$area":480},"children":[{"name":"browser-pack \u2022 480 B \u2022 16.1%","data":{"$area":480},"children":[{"name":"_prelude.js \u2022 480 B \u2022 16.1%","data":{"$area":480}}]}]},{"name":"src \u2022 201 B \u2022 6.7%","data":{"$area":201},"children":[{"name":"bar.js \u2022 104 B \u2022 3.5%","data":{"$area":104}},{"name":"foo.js \u2022 97 B \u2022 3.2%","data":{"$area":97}}]},{"name":"[sourceMappingURL] \u2022 2.25 KB \u2022 77.2%","data":{"$area":2308}},{"name":"[unmapped] \u2022 1 B \u2022 0.0%","data":{"$area":1}}]}},"2":{"name":"data/foo.min.js","data":{"name":"/ \u2022 717 B \u2022 100.0%","data":{"$area":717},"children":[{"name":"node_modules \u2022 480 B \u2022 66.9%","data":{"$area":480},"children":[{"name":"browser-pack \u2022 480 B \u2022 66.9%","data":{"$area":480},"children":[{"name":"_prelude.js \u2022 480 B \u2022 66.9%","data":{"$area":480}}]}]},{"name":"src \u2022 201 B \u2022 28.0%","data":{"$area":201},"children":[{"name":"bar.js \u2022 104 B \u2022 14.5%","data":{"$area":104}},{"name":"foo.js \u2022 97 B \u2022 13.5%","data":{"$area":97}}]},{"name":"[sourceMappingURL] \u2022 35 B \u2022 4.9%","data":{"$area":35}},{"name":"[unmapped] \u2022 1 B \u2022 0.1%","data":{"$area":1}}]}}};
</script>

<script src="data:application/javascript;base64,Y29uc3QgcGVyY2VudENvbG9ycyA9IFsKICB7IHBlcmNlbnQ6IDAuMCwgY29sb3I6IHsgcjogMHhmZiwgZzogMHgwMCwgYjogMCB9IH0sCiAgeyBwZXJjZW50OiAwLjUsIGNvbG9yOiB7IHI6IDB4ZmYsIGc6IDB4ZmYsIGI6IDAgfSB9LAogIHsgcGVyY2VudDogMS4wLCBjb2xvcjogeyByOiAweDAwLCBnOiAweGZmLCBiOiAwIH0gfSBdOwoKY29uc3QgZ2V0Q29sb3JGb3JQZXJjZW50YWdlID0gZnVuY3Rpb24ocGVyY2VudCkgewogIGxldCBpID0gMQogIGZvciAoOyBpIDwgcGVyY2VudENvbG9ycy5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgaWYgKHBlcmNlbnQgPCBwZXJjZW50Q29sb3JzW2ldLnBlcmNlbnQpIHsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgfQogIGNvbnN0IGxvd2VyQ29sb3IgPSBwZXJjZW50Q29sb3JzW2kgLSAxXTsKICBjb25zdCB1cHBlckNvbG9yID0gcGVyY2VudENvbG9yc1tpXTsKICBjb25zdCByYW5nZVdpdGhpbkNvbG9ycyA9IHVwcGVyQ29sb3IucGVyY2VudCAtIGxvd2VyQ29sb3IucGVyY2VudDsKICBjb25zdCByYW5nZVBlcmNlbnQgPSAocGVyY2VudCAtIGxvd2VyQ29sb3IucGVyY2VudCkgLyByYW5nZVdpdGhpbkNvbG9yczsKICBjb25zdCBwZXJjZW50TG93ZXIgPSAxIC0gcmFuZ2VQZXJjZW50OwogIGNvbnN0IHBlcmNlbnRVcHBlciA9IHJhbmdlUGVyY2VudDsKICBjb25zdCBjb2xvciA9IHsKICAgICAgcjogTWF0aC5mbG9vcihsb3dlckNvbG9yLmNvbG9yLnIgKiBwZXJjZW50TG93ZXIgKyB1cHBlckNvbG9yLmNvbG9yLnIgKiBwZXJjZW50VXBwZXIpLAogICAgICBnOiBNYXRoLmZsb29yKGxvd2VyQ29sb3IuY29sb3IuZyAqIHBlcmNlbnRMb3dlciArIHVwcGVyQ29sb3IuY29sb3IuZyAqIHBlcmNlbnRVcHBlciksCiAgICAgIGI6IE1hdGguZmxvb3IobG93ZXJDb2xvci5jb2xvci5iICogcGVyY2VudExvd2VyICsgdXBwZXJDb2xvci5jb2xvci5iICogcGVyY2VudFVwcGVyKQogIH07CiAgcmV0dXJuICdyZ2IoJyArIFtjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iXS5qb2luKCcsJykgKyAnKSc7Cn0KCmZ1bmN0aW9uIGNvbG9yaXplKGNoaWxkKSB7CiAgY2hpbGQuZG9tLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGdldENvbG9yRm9yUGVyY2VudGFnZShjaGlsZC5kYXRhLmNvdmVyZWRTaXplL2NoaWxkLmRhdGEuJGFyZWEpCn0KCi8vIFZlbmRvcmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3JtbWgvd2VidHJlZW1hcC9ibG9iLzlmYTBjMDY2YTEwZWE0NDAyZDk2MGIwYzZjMWE0MzI4NDZhYzdmYzQvd2VidHJlZW1hcC5qcwoKLy8gQ29weXJpZ2h0IDIwMTMgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KLy8KLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7Ci8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0Ci8vCi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKLy8KLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQovLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAovLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAovLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCi8vIFNpemUgb2YgYm9yZGVyIGFyb3VuZCBub2Rlcy4KLy8gV2UgY291bGQgc3VwcG9ydCBhcmJpdHJhcnkgYm9yZGVycyB1c2luZyBnZXRDb21wdXRlZFN0eWxlKCksIGJ1dCBJIGFtCi8vIHNrZXB0aWNhbCB0aGUgZXh0cmEgY29tcGxleGl0eSAoYW5kIHBlcmZvcm1hbmNlIGhpdCkgaXMgd29ydGggaXQuCgo7KGZ1bmN0aW9uKCkgewp2YXIga0JvcmRlcldpZHRoID0gMTsKCi8vIFBhZGRpbmcgYXJvdW5kIGNvbnRlbnRzLgovLyBUT0RPOiBkbyB0aGlzIHdpdGggYSBuZXN0ZWQgZGl2IHRvIGFsbG93IGl0IHRvIGJlIENTUy1zdHlsZWFibGUuCnZhciBrUGFkZGluZyA9IDQ7CgovLyB4L3kgcmF0aW8gdG8gYWltIGZvciAtLSB3aWRlciByZWN0YW5nbGVzIGFyZSBiZXR0ZXIgZm9yIHRleHQgZGlzcGxheQp2YXIga0FzcGVjdFJhdGlvID0gMS4yOwoKdmFyIGZvY3VzZWQgPSBudWxsOwoKZnVuY3Rpb24gZm9jdXModHJlZSkgewogIGZvY3VzZWQgPSB0cmVlOwoKICAvLyBIaWRlIGFsbCB2aXNpYmxlIHNpYmxpbmdzIG9mIGFsbCBvdXIgYW5jZXN0b3JzIGJ5IGxvd2VyaW5nIHRoZW0uCiAgdmFyIGxldmVsID0gMDsKICB2YXIgcm9vdCA9IHRyZWU7CiAgd2hpbGUgKHJvb3QucGFyZW50KSB7CiAgICByb290ID0gcm9vdC5wYXJlbnQ7CiAgICBsZXZlbCArPSAxOwogICAgZm9yICh2YXIgaSA9IDAsIHNpYmxpbmc7IHNpYmxpbmcgPSByb290LmNoaWxkcmVuW2ldOyArK2kpIHsKICAgICAgaWYgKHNpYmxpbmcuZG9tKQogICAgICAgIHNpYmxpbmcuZG9tLnN0eWxlLnpJbmRleCA9IDA7CiAgICB9CiAgfQogIHZhciB3aWR0aCA9IHJvb3QuZG9tLm9mZnNldFdpZHRoOwogIHZhciBoZWlnaHQgPSByb290LmRvbS5vZmZzZXRIZWlnaHQ7CiAgLy8gVW5oaWRlIChyYWlzZSkgYW5kIG1heGltaXplIHVzIGFuZCBvdXIgYW5jZXN0b3JzLgogIGZvciAodmFyIHQgPSB0cmVlOyB0LnBhcmVudDsgdCA9IHQucGFyZW50KSB7CiAgICAvLyBTaGlmdCBvZmYgYnkgYm9yZGVyIHNvIHdlIGRvbid0IGdldCBuZXN0ZWQgYm9yZGVycy4KICAgIC8vIFRPRE86IGFjdHVhbGx5IG1ha2UgbmVzdGVkIGJvcmRlcnMgd29yayAobmVlZCB0byBhZGp1c3Qgd2lkdGgvaGVpZ2h0KS4KICAgIHBvc2l0aW9uKHQuZG9tLCAta0JvcmRlcldpZHRoLCAta0JvcmRlcldpZHRoLCB3aWR0aCwgaGVpZ2h0KTsKICAgIHQuZG9tLnN0eWxlLnpJbmRleCA9IDE7CiAgfQogIC8vIEFuZCBsYXlvdXQgaW50byB0aGUgdG9wbW9zdCBib3guCiAgbGF5b3V0KHRyZWUsIGxldmVsLCB3aWR0aCwgaGVpZ2h0KTsKfQoKZnVuY3Rpb24gbWFrZURvbSh0cmVlLCBsZXZlbCkgewogIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBkb20uc3R5bGUuekluZGV4ID0gMTsKICBkb20uY2xhc3NOYW1lID0gJ3dlYnRyZWVtYXAtbm9kZSB3ZWJ0cmVlbWFwLWxldmVsJyArIE1hdGgubWluKGxldmVsLCA0KTsKICBpZiAodHJlZS5kYXRhWyckc3ltYm9sJ10pIHsKICAgIGRvbS5jbGFzc05hbWUgKz0gKCcgd2VidHJlZW1hcC1zeW1ib2wtJyArCiAgdHJlZS5kYXRhWyckc3ltYm9sJ10ucmVwbGFjZSgnICcsICdfJykpOwogIH0KICBpZiAodHJlZS5kYXRhWyckZG9taW5hbnRfc3ltYm9sJ10pIHsKICAgIGRvbS5jbGFzc05hbWUgKz0gKCcgd2VidHJlZW1hcC1zeW1ib2wtJyArCiAgdHJlZS5kYXRhWyckZG9taW5hbnRfc3ltYm9sJ10ucmVwbGFjZSgnICcsICdfJykpOwogICAgZG9tLmNsYXNzTmFtZSArPSAoJyB3ZWJ0cmVlbWFwLWFnZ3JlZ2F0ZScpOwogIH0KCiAgZG9tLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oZSkgewogICAgaWYgKGUuYnV0dG9uID09IDApIHsKICAgICAgaWYgKGZvY3VzZWQgJiYgdHJlZSA9PSBmb2N1c2VkICYmIGZvY3VzZWQucGFyZW50KSB7CiAgICAgICAgZm9jdXMoZm9jdXNlZC5wYXJlbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIGZvY3VzKHRyZWUpOwogICAgICB9CiAgICB9CiAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgcmV0dXJuIHRydWU7CiAgfTsKCiAgdmFyIGNhcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBjYXB0aW9uLmNsYXNzTmFtZSA9ICd3ZWJ0cmVlbWFwLWNhcHRpb24nOwogIGNhcHRpb24uaW5uZXJIVE1MID0gdHJlZS5uYW1lOwogIGRvbS5hcHBlbmRDaGlsZChjYXB0aW9uKTsKICBkb20udGl0bGUgPSB0cmVlLm5hbWU7CgogIHRyZWUuZG9tID0gZG9tOwogIHJldHVybiBkb207Cn0KCmZ1bmN0aW9uIHBvc2l0aW9uKGRvbSwgeCwgeSwgd2lkdGgsIGhlaWdodCkgewogIC8vIENTUyB3aWR0aC9oZWlnaHQgZG9lcyBub3QgaW5jbHVkZSBib3JkZXIuCiAgd2lkdGggLT0ga0JvcmRlcldpZHRoKjI7CiAgaGVpZ2h0IC09IGtCb3JkZXJXaWR0aCoyOwoKICBkb20uc3R5bGUubGVmdCAgID0geCArICdweCc7CiAgZG9tLnN0eWxlLnRvcCAgICA9IHkgKyAncHgnOwogIGRvbS5zdHlsZS53aWR0aCAgPSBNYXRoLm1heCh3aWR0aCwgMCkgKyAncHgnOwogIGRvbS5zdHlsZS5oZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIDApICsgJ3B4JzsKfQoKLy8gR2l2ZW4gYSBsaXN0IG9mIHJlY3RhbmdsZXMgfG5vZGVzfCwgdGhlIDEtZCBzcGFjZSBhdmFpbGFibGUKLy8gfHNwYWNlfCwgYW5kIGEgc3RhcnRpbmcgcmVjdGFuZ2xlIGluZGV4IHxzdGFydHwsIGNvbXB1dGUgYW4gc3BhbiBvZgovLyByZWN0YW5nbGVzIHRoYXQgb3B0aW1pemVzIGEgcGxlYXNhbnQgYXNwZWN0IHJhdGlvLgovLwovLyBSZXR1cm5zIFtlbmQsIHN1bV0sIHdoZXJlIGVuZCBpcyBvbmUgcGFzdCB0aGUgbGFzdCByZWN0YW5nbGUgYW5kIHN1bSBpcyB0aGUKLy8gMi1kIHN1bSBvZiB0aGUgcmVjdGFuZ2xlcycgYXJlYXMuCmZ1bmN0aW9uIHNlbGVjdFNwYW4obm9kZXMsIHNwYWNlLCBzdGFydCkgewogIC8vIEFkZCByZWN0YW5nbGUgb25lIGJ5IG9uZSwgc3RvcHBpbmcgd2hlbiBhc3BlY3QgcmF0aW9zIGJlZ2luIHRvIGdvCiAgLy8gYmFkLiAgUmVzdWx0IGlzIFtzdGFydCxlbmQpIGNvdmVyaW5nIHRoZSBiZXN0IHJ1biBmb3IgdGhpcyBzcGFuLgogIC8vIGh0dHA6Ly9jaXRlc2VlcnguaXN0LnBzdS5lZHUvdmlld2RvYy9zdW1tYXJ5P2RvaT0xMC4xLjEuMzYuNjY4NQogIHZhciBub2RlID0gbm9kZXNbc3RhcnRdOwogIHZhciBybWluID0gbm9kZS5kYXRhWyckYXJlYSddOyAgLy8gU21hbGxlc3Qgc2VlbiBjaGlsZCBzbyBmYXIuCiAgdmFyIHJtYXggPSBybWluOyAgICAgICAgICAgICAgICAvLyBMYXJnZXN0IGNoaWxkLgogIHZhciByc3VtID0gMDsgICAgICAgICAgICAgICAgICAgLy8gU3VtIG9mIGNoaWxkcmVuIGluIHRoaXMgc3Bhbi4KICB2YXIgbGFzdF9zY29yZSA9IDA7ICAgICAgICAgICAgIC8vIEJlc3Qgc2NvcmUgeWV0IGZvdW5kLgogIGZvciAodmFyIGVuZCA9IHN0YXJ0OyBub2RlID0gbm9kZXNbZW5kXTsgKytlbmQpIHsKICAgIHZhciBzaXplID0gbm9kZS5kYXRhWyckYXJlYSddOwogICAgaWYgKHNpemUgPCBybWluKQogICAgICBybWluID0gc2l6ZTsKICAgIGlmIChzaXplID4gcm1heCkKICAgICAgcm1heCA9IHNpemU7CiAgICByc3VtICs9IHNpemU7CgogICAgLy8gVGhpcyBmb3JtdWxhIGlzIGZyb20gdGhlIHBhcGVyLCBidXQgeW91IGNhbiBlYXNpbHkgcHJvdmUgdG8KICAgIC8vIHlvdXJzZWxmIGl0J3MgdGFraW5nIHRoZSBsYXJnZXIgb2YgdGhlIHgveSBhc3BlY3QgcmF0aW8gb3IgdGhlCiAgICAvLyB5L3ggYXNwZWN0IHJhdGlvLiAgVGhlIGFkZGl0aW9uYWwgbWFnaWMgZnVkZ2UgY29uc3RhbnQgb2Yga0FzcGVjdFJhdGlvCiAgICAvLyBsZXRzIHVzIHByZWZlciB3aWRlciByZWN0YW5nbGVzIHRvIHRhbGxlciBvbmVzLgogICAgdmFyIHNjb3JlID0gTWF0aC5tYXgoc3BhY2Uqc3BhY2Uqcm1heCAvIChyc3VtKnJzdW0pLAogICAgICAgICAgICAgICAgICAgICAgICAga0FzcGVjdFJhdGlvKnJzdW0qcnN1bSAvIChzcGFjZSpzcGFjZSpybWluKSk7CiAgICBpZiAobGFzdF9zY29yZSAmJiBzY29yZSA+IGxhc3Rfc2NvcmUpIHsKICAgICAgcnN1bSAtPSBzaXplOyAgLy8gVW5kbyBzaXplIGFkZGl0aW9uIGZyb20ganVzdCBhYm92ZS4KICAgICAgYnJlYWs7CiAgICB9CiAgICBsYXN0X3Njb3JlID0gc2NvcmU7CiAgfQogIHJldHVybiBbZW5kLCByc3VtXTsKfQoKZnVuY3Rpb24gbGF5b3V0KHRyZWUsIGxldmVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgaWYgKCEoJ2NoaWxkcmVuJyBpbiB0cmVlKSkKICAgIHJldHVybjsKCiAgdmFyIHRvdGFsID0gdHJlZS5kYXRhWyckYXJlYSddOwoKICAvLyBYWFggd2h5IGRvIEkgbmVlZCBhbiBleHRyYSAtMS8tMiBoZXJlIGZvciB3aWR0aC9oZWlnaHQgdG8gbG9vayByaWdodD8KICB2YXIgeDEgPSAwLCB5MSA9IDAsIHgyID0gd2lkdGggLSAxLCB5MiA9IGhlaWdodCAtIDI7CiAgeDEgKz0ga1BhZGRpbmc7IHkxICs9IGtQYWRkaW5nOwogIHgyIC09IGtQYWRkaW5nOyB5MiAtPSBrUGFkZGluZzsKICB5MSArPSAxNDsgIC8vIFhYWCBnZXQgZmlyc3QgY2hpbGQgaGVpZ2h0IGZvciBjYXB0aW9uIHNwYWNpbmcKCiAgdmFyIHBpeGVsc190b191bml0cyA9IE1hdGguc3FydCh0b3RhbCAvICgoeDIgLSB4MSkgKiAoeTIgLSB5MSkpKTsKCiAgLy8gVGhlIGFsZ29yaXRobSBkb2VzIGJlc3QgYXQgbGF5aW5nIG91dCBpdGVtcyBmcm9tIGxhcmdlc3QgdG8gc21hbGxlc3QuCiAgLy8gU29ydCB0aGVtIHRvIGVuc3VyZSB0aGlzLgogIGlmICghdHJlZS5jaGlsZHJlbi5zb3J0ZWQpIHsKICAgIHRyZWUuY2hpbGRyZW4uc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICByZXR1cm4gYi5kYXRhWyckYXJlYSddIC0gYS5kYXRhWyckYXJlYSddOwogICAgfSk7CiAgICB0cmVlLmNoaWxkcmVuLnNvcnRlZCA9IHRydWU7CiAgfQoKICBmb3IgKHZhciBzdGFydCA9IDAsIGNoaWxkOyBjaGlsZCA9IHRyZWUuY2hpbGRyZW5bc3RhcnRdOyArK3N0YXJ0KSB7CiAgICBpZiAoeDIgLSB4MSA8IDYwIHx8IHkyIC0geTEgPCA0MCkgewogICAgICBpZiAoY2hpbGQuZG9tKSB7CiAgICAgICAgY2hpbGQuZG9tLnN0eWxlLnpJbmRleCA9IDA7CiAgICAgICAgcG9zaXRpb24oY2hpbGQuZG9tLCAtMiwgLTIsIDAsIDApOwogICAgICAgIGNvbG9yaXplKGNoaWxkKQogICAgICB9CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIER5bmFtaWNhbGx5IGRlY2lkZSB3aGV0aGVyIHRvIHNwbGl0IGluIHggb3IgeSBiYXNlZCBvbiBhc3BlY3QgcmF0aW8uCiAgICB2YXIgeXNwbGl0ID0gKCh5MiAtIHkxKSAvICh4MiAtIHgxKSkgPiBrQXNwZWN0UmF0aW87CgogICAgdmFyIHNwYWNlOyAgLy8gU3BhY2UgYXZhaWxhYmxlIGFsb25nIGxheW91dCBheGlzLgogICAgaWYgKHlzcGxpdCkKICAgICAgc3BhY2UgPSAoeTIgLSB5MSkgKiBwaXhlbHNfdG9fdW5pdHM7CiAgICBlbHNlCiAgICAgIHNwYWNlID0gKHgyIC0geDEpICogcGl4ZWxzX3RvX3VuaXRzOwoKICAgIHZhciBzcGFuID0gc2VsZWN0U3Bhbih0cmVlLmNoaWxkcmVuLCBzcGFjZSwgc3RhcnQpOwogICAgdmFyIGVuZCA9IHNwYW5bMF0sIHJzdW0gPSBzcGFuWzFdOwoKICAgIC8vIE5vdyB0aGF0IHdlJ3ZlIHNlbGVjdGVkIGEgc3BhbiwgbGF5IG91dCByZWN0YW5nbGVzIFtzdGFydCxlbmQpIGluIG91cgogICAgLy8gYXZhaWxhYmxlIHNwYWNlLgogICAgdmFyIHggPSB4MSwgeSA9IHkxOwogICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHsKICAgICAgY2hpbGQgPSB0cmVlLmNoaWxkcmVuW2ldOwogICAgICBpZiAoIWNoaWxkLmRvbSkgewogICAgICAgIGNoaWxkLnBhcmVudCA9IHRyZWU7CiAgICAgICAgY2hpbGQuZG9tID0gbWFrZURvbShjaGlsZCwgbGV2ZWwgKyAxKTsKICAgICAgICB0cmVlLmRvbS5hcHBlbmRDaGlsZChjaGlsZC5kb20pOwogICAgICB9IGVsc2UgewogICAgICAgIGNoaWxkLmRvbS5zdHlsZS56SW5kZXggPSAxOwogICAgICB9CiAgICAgIHZhciBzaXplID0gY2hpbGQuZGF0YVsnJGFyZWEnXTsKICAgICAgdmFyIGZyYWMgPSBzaXplIC8gcnN1bTsKICAgICAgaWYgKHlzcGxpdCkgewogICAgICAgIHdpZHRoID0gcnN1bSAvIHNwYWNlOwogICAgICAgIGhlaWdodCA9IHNpemUgLyB3aWR0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICBoZWlnaHQgPSByc3VtIC8gc3BhY2U7CiAgICAgICAgd2lkdGggPSBzaXplIC8gaGVpZ2h0OwogICAgICB9CiAgICAgIHdpZHRoIC89IHBpeGVsc190b191bml0czsKICAgICAgaGVpZ2h0IC89IHBpeGVsc190b191bml0czsKICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTsKICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpOwogICAgICBwb3NpdGlvbihjaGlsZC5kb20sIHgsIHksIHdpZHRoLCBoZWlnaHQpOwogICAgICBjb2xvcml6ZShjaGlsZCkKICAgICAgaWYgKCdjaGlsZHJlbicgaW4gY2hpbGQpIHsKICAgICAgICBsYXlvdXQoY2hpbGQsIGxldmVsICsgMSwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0KICAgICAgaWYgKHlzcGxpdCkKICAgICAgICB5ICs9IGhlaWdodDsKICAgICAgZWxzZQogICAgICAgIHggKz0gd2lkdGg7CiAgICB9CgogICAgLy8gU2hyaW5rIG91ciBhdmFpbGFibGUgc3BhY2UgYmFzZWQgb24gdGhlIGFtb3VudCB3ZSB1c2VkLgogICAgaWYgKHlzcGxpdCkKICAgICAgeDEgKz0gTWF0aC5yb3VuZCgocnN1bSAvIHNwYWNlKSAvIHBpeGVsc190b191bml0cyk7CiAgICBlbHNlCiAgICAgIHkxICs9IE1hdGgucm91bmQoKHJzdW0gLyBzcGFjZSkgLyBwaXhlbHNfdG9fdW5pdHMpOwoKICAgIC8vIGVuZCBwb2ludHMgb25lIHBhc3Qgd2hlcmUgd2UgZW5kZWQsIHdoaWNoIGlzIHdoZXJlIHdlIHdhbnQgdG8KICAgIC8vIGJlZ2luIHRoZSBuZXh0IGl0ZXJhdGlvbiwgYnV0IHN1YnRyYWN0IG9uZSB0byBiYWxhbmNlIHRoZSArKyBpbgogICAgLy8gdGhlIGxvb3AuCiAgICBzdGFydCA9IGVuZCAtIDE7CiAgfQp9CgpmdW5jdGlvbiBhcHBlbmRUcmVlbWFwKGRvbSwgZGF0YSkgewogIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZG9tLCBudWxsKTsKICB2YXIgd2lkdGggPSBwYXJzZUludChzdHlsZS53aWR0aCk7CiAgdmFyIGhlaWdodCA9IHBhcnNlSW50KHN0eWxlLmhlaWdodCk7CiAgaWYgKCFkYXRhLmRvbSkKICAgIG1ha2VEb20oZGF0YSwgMCk7CiAgZG9tLmFwcGVuZENoaWxkKGRhdGEuZG9tKTsKICBwb3NpdGlvbihkYXRhLmRvbSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7CiAgbGF5b3V0KGRhdGEsIDAsIHdpZHRoLCBoZWlnaHQpOwp9Cgp3aW5kb3cuYXBwZW5kVHJlZW1hcCA9IGFwcGVuZFRyZWVtYXA7Cn0pKHdpbmRvdyk7Cg=="></script>

<script>
  let selectedBundleId = '0';

  function selectBundle(bundleId) {
    const bundle = treeDataMap[bundleId];
    appendTreemap(map, bundle.data);
    document.title = bundle.name + ' - Source Map Explorer';
  }

  const map = document.getElementById('map');

  const bundleSelect = document.getElementById('bundle-select');
  bundleSelect.addEventListener('change', function(event) {
    selectedBundleId = bundleSelect.value;
    selectBundle(selectedBundleId);
  })

  window.addEventListener('resize', function() {
    selectBundle(selectedBundleId);
  });

  selectBundle(selectedBundleId);
</script>
<html>


`

exports['CLI should output result as html 1'] = `
<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="data:text/css;base64,LyogVmVuZG9yZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vcm1taC93ZWJ0cmVlbWFwL2Jsb2IvOWZhMGMwNjZhMTBlYTQ0MDJkOTYwYjBjNmMxYTQzMjg0NmFjN2ZjNC93ZWJ0cmVlbWFwLmNzcyAqLwoKLndlYnRyZWVtYXAtbm9kZSB7CiAgLyogUmVxdWlyZWQgYXR0cmlidXRlcy4gKi8KICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgb3ZlcmZsb3c6IGhpZGRlbjsgICAvKiBUbyBoaWRlIG92ZXJsb25nIGNhcHRpb25zLiAqLwogIGJhY2tncm91bmQ6IHdoaXRlOyAgLyogTm9kZXMgbXVzdCBiZSBvcGFxdWUgZm9yIHpJbmRleCBsYXllcmluZy4gKi8KICBib3JkZXI6IHNvbGlkIDFweCBibGFjazsgIC8qIENhbGN1bGF0aW9ucyBhc3N1bWUgMXB4IGJvcmRlci4gKi8KCiAgLyogT3B0aW9uYWw6IENTUyBhbmltYXRpb24uICovCiAgdHJhbnNpdGlvbjogdG9wICAgIDAuM3MsCiAgICAgICAgICAgICAgbGVmdCAgIDAuM3MsCiAgICAgICAgICAgICAgd2lkdGggIDAuM3MsCiAgICAgICAgICAgICAgaGVpZ2h0IDAuM3M7Cn0KCi8qIE9wdGlvbmFsOiBoaWdobGlnaHQgbm9kZXMgb24gbW91c2VvdmVyLiAqLwoud2VidHJlZW1hcC1ub2RlOmhvdmVyIHsKICBiYWNrZ3JvdW5kOiAjZWVlOwp9CgovKiBPcHRpb25hbDogRGlmZmVyZW50IGJhY2tncm91bmQgY29sb3JzIGRlcGVuZGluZyBvbiBzeW1ib2wuICovCi53ZWJ0cmVlbWFwLXN5bWJvbC1ic3MgewogIGJhY2tncm91bmQ6ICM2NkMyQTU7Cn0KLndlYnRyZWVtYXAtc3ltYm9sLWRhdGEgewogIGJhY2tncm91bmQ6ICNGQzhENjI7Cn0KLndlYnRyZWVtYXAtc3ltYm9sLXJlYWQtb25seV9kYXRhIHsKICBiYWNrZ3JvdW5kOiAjOERBMENCOwp9Ci53ZWJ0cmVlbWFwLXN5bWJvbC1jb2RlIHsKICBiYWNrZ3JvdW5kOiAjRTc4QUMzOwp9Ci53ZWJ0cmVlbWFwLXN5bWJvbC13ZWFrX3N5bWJvbCB7CiAgYmFja2dyb3VuZDogI0E2RDg1NDsKfQoud2VidHJlZW1hcC1zeW1ib2wtYnNzLndlYnRyZWVtYXAtYWdncmVnYXRlIHsKICBiYWNrZ3JvdW5kOiAjQjNFMkNEOwp9Ci53ZWJ0cmVlbWFwLXN5bWJvbC1kYXRhLndlYnRyZWVtYXAtYWdncmVnYXRlIHsKICBiYWNrZ3JvdW5kOiAjRkRDREFDOwp9Ci53ZWJ0cmVlbWFwLXN5bWJvbC1yZWFkLW9ubHlfZGF0YS53ZWJ0cmVlbWFwLWFnZ3JlZ2F0ZSB7CiAgYmFja2dyb3VuZDogI0NCRDVFODsKfQoud2VidHJlZW1hcC1zeW1ib2wtY29kZS53ZWJ0cmVlbWFwLWFnZ3JlZ2F0ZSB7CiAgYmFja2dyb3VuZDogI0Y0Q0FFNDsKfQoud2VidHJlZW1hcC1zeW1ib2wtd2Vha19zeW1ib2wud2VidHJlZW1hcC1hZ2dyZWdhdGUgewogIGJhY2tncm91bmQ6ICNFNkY1Qzk7Cn0KCiNsZWdlbmQgPiAqIHsKICBib3JkZXI6IHNvbGlkIDFweCAjNDQ0Owp9CgovKiBPcHRpb25hbDogRGlmZmVyZW50IGJvcmRlcnMgZGVwZW5kaW5nIG9uIGxldmVsLiAqLwoud2VidHJlZW1hcC1sZXZlbDAgewogIGJvcmRlcjogc29saWQgMXB4ICM0NDQ7Cn0KLndlYnRyZWVtYXAtbGV2ZWwxIHsKICBib3JkZXI6IHNvbGlkIDFweCAjNjY2Owp9Ci53ZWJ0cmVlbWFwLWxldmVsMiB7CiAgYm9yZGVyOiBzb2xpZCAxcHggIzg4ODsKfQoud2VidHJlZW1hcC1sZXZlbDMgewogIGJvcmRlcjogc29saWQgMXB4ICNhYWE7Cn0KLndlYnRyZWVtYXAtbGV2ZWw0IHsKICBib3JkZXI6IHNvbGlkIDFweCAjY2NjOwp9CgovKiBPcHRpb25hbDogc3R5bGluZyBvbiBub2RlIGNhcHRpb25zLiAqLwoud2VidHJlZW1hcC1jYXB0aW9uIHsKICBmb250LWZhbWlseTogc2Fucy1zZXJpZjsKICBmb250LXNpemU6IDExcHg7CiAgcGFkZGluZzogMnB4OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoKLyogT3B0aW9uYWw6IHN0eWxpbmcgb24gY2FwdGlvbnMgb24gbW91c2UgaG92ZXIuICovCi8qLndlYnRyZWVtYXAtbm9kZTpob3ZlciA+IC53ZWJ0cmVlbWFwLWNhcHRpb24gewogIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOwp9Ki8K">
  <title>data/inline-map.js - Source Map Explorer</title>

  <style>
    html, body { height: 100% }

    body {
      font-family: sans-serif;
      font-size: 0.8em;
      margin: 0;
      display: flex;
    }

    select, .webtreemap-caption { font-family: sans-serif }

    #content {
      display: flex;
      width: 100%;
      flex-direction: column;
      padding: 15px;
    }

    #header {
      display: flex;
      padding: 0 0 15px 15px;
      align-items: center;
    }

    #map {
      flex-grow: 1;
      position: relative;
      cursor: pointer;
      -webkit-user-select: none;
    }
  </style>
</head>
<body>
  <div id="content">
    
    <div id="map"></div>
  </div>
</body>

<script>
const treeDataMap = {"0":{"name":"data/inline-map.js","data":{"name":"/ \u2022 2.92 KB \u2022 100.0%","data":{"$area":2990},"children":[{"name":"node_modules \u2022 480 B \u2022 16.1%","data":{"$area":480},"children":[{"name":"browser-pack \u2022 480 B \u2022 16.1%","data":{"$area":480},"children":[{"name":"_prelude.js \u2022 480 B \u2022 16.1%","data":{"$area":480}}]}]},{"name":"src \u2022 201 B \u2022 6.7%","data":{"$area":201},"children":[{"name":"bar.js \u2022 104 B \u2022 3.5%","data":{"$area":104}},{"name":"foo.js \u2022 97 B \u2022 3.2%","data":{"$area":97}}]},{"name":"[sourceMappingURL] \u2022 2.25 KB \u2022 77.2%","data":{"$area":2308}},{"name":"[unmapped] \u2022 1 B \u2022 0.0%","data":{"$area":1}}]}}};
</script>

<script src="data:application/javascript;base64,Y29uc3QgcGVyY2VudENvbG9ycyA9IFsKICB7IHBlcmNlbnQ6IDAuMCwgY29sb3I6IHsgcjogMHhmZiwgZzogMHgwMCwgYjogMCB9IH0sCiAgeyBwZXJjZW50OiAwLjUsIGNvbG9yOiB7IHI6IDB4ZmYsIGc6IDB4ZmYsIGI6IDAgfSB9LAogIHsgcGVyY2VudDogMS4wLCBjb2xvcjogeyByOiAweDAwLCBnOiAweGZmLCBiOiAwIH0gfSBdOwoKY29uc3QgZ2V0Q29sb3JGb3JQZXJjZW50YWdlID0gZnVuY3Rpb24ocGVyY2VudCkgewogIGxldCBpID0gMQogIGZvciAoOyBpIDwgcGVyY2VudENvbG9ycy5sZW5ndGggLSAxOyBpKyspIHsKICAgICAgaWYgKHBlcmNlbnQgPCBwZXJjZW50Q29sb3JzW2ldLnBlcmNlbnQpIHsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgfQogIGNvbnN0IGxvd2VyQ29sb3IgPSBwZXJjZW50Q29sb3JzW2kgLSAxXTsKICBjb25zdCB1cHBlckNvbG9yID0gcGVyY2VudENvbG9yc1tpXTsKICBjb25zdCByYW5nZVdpdGhpbkNvbG9ycyA9IHVwcGVyQ29sb3IucGVyY2VudCAtIGxvd2VyQ29sb3IucGVyY2VudDsKICBjb25zdCByYW5nZVBlcmNlbnQgPSAocGVyY2VudCAtIGxvd2VyQ29sb3IucGVyY2VudCkgLyByYW5nZVdpdGhpbkNvbG9yczsKICBjb25zdCBwZXJjZW50TG93ZXIgPSAxIC0gcmFuZ2VQZXJjZW50OwogIGNvbnN0IHBlcmNlbnRVcHBlciA9IHJhbmdlUGVyY2VudDsKICBjb25zdCBjb2xvciA9IHsKICAgICAgcjogTWF0aC5mbG9vcihsb3dlckNvbG9yLmNvbG9yLnIgKiBwZXJjZW50TG93ZXIgKyB1cHBlckNvbG9yLmNvbG9yLnIgKiBwZXJjZW50VXBwZXIpLAogICAgICBnOiBNYXRoLmZsb29yKGxvd2VyQ29sb3IuY29sb3IuZyAqIHBlcmNlbnRMb3dlciArIHVwcGVyQ29sb3IuY29sb3IuZyAqIHBlcmNlbnRVcHBlciksCiAgICAgIGI6IE1hdGguZmxvb3IobG93ZXJDb2xvci5jb2xvci5iICogcGVyY2VudExvd2VyICsgdXBwZXJDb2xvci5jb2xvci5iICogcGVyY2VudFVwcGVyKQogIH07CiAgcmV0dXJuICdyZ2IoJyArIFtjb2xvci5yLCBjb2xvci5nLCBjb2xvci5iXS5qb2luKCcsJykgKyAnKSc7Cn0KCmZ1bmN0aW9uIGNvbG9yaXplKGNoaWxkKSB7CiAgY2hpbGQuZG9tLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGdldENvbG9yRm9yUGVyY2VudGFnZShjaGlsZC5kYXRhLmNvdmVyZWRTaXplL2NoaWxkLmRhdGEuJGFyZWEpCn0KCi8vIFZlbmRvcmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3JtbWgvd2VidHJlZW1hcC9ibG9iLzlmYTBjMDY2YTEwZWE0NDAyZDk2MGIwYzZjMWE0MzI4NDZhYzdmYzQvd2VidHJlZW1hcC5qcwoKLy8gQ29weXJpZ2h0IDIwMTMgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KLy8KLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7Ci8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0Ci8vCi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKLy8KLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQovLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAovLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAovLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCi8vIFNpemUgb2YgYm9yZGVyIGFyb3VuZCBub2Rlcy4KLy8gV2UgY291bGQgc3VwcG9ydCBhcmJpdHJhcnkgYm9yZGVycyB1c2luZyBnZXRDb21wdXRlZFN0eWxlKCksIGJ1dCBJIGFtCi8vIHNrZXB0aWNhbCB0aGUgZXh0cmEgY29tcGxleGl0eSAoYW5kIHBlcmZvcm1hbmNlIGhpdCkgaXMgd29ydGggaXQuCgo7KGZ1bmN0aW9uKCkgewp2YXIga0JvcmRlcldpZHRoID0gMTsKCi8vIFBhZGRpbmcgYXJvdW5kIGNvbnRlbnRzLgovLyBUT0RPOiBkbyB0aGlzIHdpdGggYSBuZXN0ZWQgZGl2IHRvIGFsbG93IGl0IHRvIGJlIENTUy1zdHlsZWFibGUuCnZhciBrUGFkZGluZyA9IDQ7CgovLyB4L3kgcmF0aW8gdG8gYWltIGZvciAtLSB3aWRlciByZWN0YW5nbGVzIGFyZSBiZXR0ZXIgZm9yIHRleHQgZGlzcGxheQp2YXIga0FzcGVjdFJhdGlvID0gMS4yOwoKdmFyIGZvY3VzZWQgPSBudWxsOwoKZnVuY3Rpb24gZm9jdXModHJlZSkgewogIGZvY3VzZWQgPSB0cmVlOwoKICAvLyBIaWRlIGFsbCB2aXNpYmxlIHNpYmxpbmdzIG9mIGFsbCBvdXIgYW5jZXN0b3JzIGJ5IGxvd2VyaW5nIHRoZW0uCiAgdmFyIGxldmVsID0gMDsKICB2YXIgcm9vdCA9IHRyZWU7CiAgd2hpbGUgKHJvb3QucGFyZW50KSB7CiAgICByb290ID0gcm9vdC5wYXJlbnQ7CiAgICBsZXZlbCArPSAxOwogICAgZm9yICh2YXIgaSA9IDAsIHNpYmxpbmc7IHNpYmxpbmcgPSByb290LmNoaWxkcmVuW2ldOyArK2kpIHsKICAgICAgaWYgKHNpYmxpbmcuZG9tKQogICAgICAgIHNpYmxpbmcuZG9tLnN0eWxlLnpJbmRleCA9IDA7CiAgICB9CiAgfQogIHZhciB3aWR0aCA9IHJvb3QuZG9tLm9mZnNldFdpZHRoOwogIHZhciBoZWlnaHQgPSByb290LmRvbS5vZmZzZXRIZWlnaHQ7CiAgLy8gVW5oaWRlIChyYWlzZSkgYW5kIG1heGltaXplIHVzIGFuZCBvdXIgYW5jZXN0b3JzLgogIGZvciAodmFyIHQgPSB0cmVlOyB0LnBhcmVudDsgdCA9IHQucGFyZW50KSB7CiAgICAvLyBTaGlmdCBvZmYgYnkgYm9yZGVyIHNvIHdlIGRvbid0IGdldCBuZXN0ZWQgYm9yZGVycy4KICAgIC8vIFRPRE86IGFjdHVhbGx5IG1ha2UgbmVzdGVkIGJvcmRlcnMgd29yayAobmVlZCB0byBhZGp1c3Qgd2lkdGgvaGVpZ2h0KS4KICAgIHBvc2l0aW9uKHQuZG9tLCAta0JvcmRlcldpZHRoLCAta0JvcmRlcldpZHRoLCB3aWR0aCwgaGVpZ2h0KTsKICAgIHQuZG9tLnN0eWxlLnpJbmRleCA9IDE7CiAgfQogIC8vIEFuZCBsYXlvdXQgaW50byB0aGUgdG9wbW9zdCBib3guCiAgbGF5b3V0KHRyZWUsIGxldmVsLCB3aWR0aCwgaGVpZ2h0KTsKfQoKZnVuY3Rpb24gbWFrZURvbSh0cmVlLCBsZXZlbCkgewogIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBkb20uc3R5bGUuekluZGV4ID0gMTsKICBkb20uY2xhc3NOYW1lID0gJ3dlYnRyZWVtYXAtbm9kZSB3ZWJ0cmVlbWFwLWxldmVsJyArIE1hdGgubWluKGxldmVsLCA0KTsKICBpZiAodHJlZS5kYXRhWyckc3ltYm9sJ10pIHsKICAgIGRvbS5jbGFzc05hbWUgKz0gKCcgd2VidHJlZW1hcC1zeW1ib2wtJyArCiAgdHJlZS5kYXRhWyckc3ltYm9sJ10ucmVwbGFjZSgnICcsICdfJykpOwogIH0KICBpZiAodHJlZS5kYXRhWyckZG9taW5hbnRfc3ltYm9sJ10pIHsKICAgIGRvbS5jbGFzc05hbWUgKz0gKCcgd2VidHJlZW1hcC1zeW1ib2wtJyArCiAgdHJlZS5kYXRhWyckZG9taW5hbnRfc3ltYm9sJ10ucmVwbGFjZSgnICcsICdfJykpOwogICAgZG9tLmNsYXNzTmFtZSArPSAoJyB3ZWJ0cmVlbWFwLWFnZ3JlZ2F0ZScpOwogIH0KCiAgZG9tLm9ubW91c2Vkb3duID0gZnVuY3Rpb24oZSkgewogICAgaWYgKGUuYnV0dG9uID09IDApIHsKICAgICAgaWYgKGZvY3VzZWQgJiYgdHJlZSA9PSBmb2N1c2VkICYmIGZvY3VzZWQucGFyZW50KSB7CiAgICAgICAgZm9jdXMoZm9jdXNlZC5wYXJlbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIGZvY3VzKHRyZWUpOwogICAgICB9CiAgICB9CiAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgcmV0dXJuIHRydWU7CiAgfTsKCiAgdmFyIGNhcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBjYXB0aW9uLmNsYXNzTmFtZSA9ICd3ZWJ0cmVlbWFwLWNhcHRpb24nOwogIGNhcHRpb24uaW5uZXJIVE1MID0gdHJlZS5uYW1lOwogIGRvbS5hcHBlbmRDaGlsZChjYXB0aW9uKTsKICBkb20udGl0bGUgPSB0cmVlLm5hbWU7CgogIHRyZWUuZG9tID0gZG9tOwogIHJldHVybiBkb207Cn0KCmZ1bmN0aW9uIHBvc2l0aW9uKGRvbSwgeCwgeSwgd2lkdGgsIGhlaWdodCkgewogIC8vIENTUyB3aWR0aC9oZWlnaHQgZG9lcyBub3QgaW5jbHVkZSBib3JkZXIuCiAgd2lkdGggLT0ga0JvcmRlcldpZHRoKjI7CiAgaGVpZ2h0IC09IGtCb3JkZXJXaWR0aCoyOwoKICBkb20uc3R5bGUubGVmdCAgID0geCArICdweCc7CiAgZG9tLnN0eWxlLnRvcCAgICA9IHkgKyAncHgnOwogIGRvbS5zdHlsZS53aWR0aCAgPSBNYXRoLm1heCh3aWR0aCwgMCkgKyAncHgnOwogIGRvbS5zdHlsZS5oZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIDApICsgJ3B4JzsKfQoKLy8gR2l2ZW4gYSBsaXN0IG9mIHJlY3RhbmdsZXMgfG5vZGVzfCwgdGhlIDEtZCBzcGFjZSBhdmFpbGFibGUKLy8gfHNwYWNlfCwgYW5kIGEgc3RhcnRpbmcgcmVjdGFuZ2xlIGluZGV4IHxzdGFydHwsIGNvbXB1dGUgYW4gc3BhbiBvZgovLyByZWN0YW5nbGVzIHRoYXQgb3B0aW1pemVzIGEgcGxlYXNhbnQgYXNwZWN0IHJhdGlvLgovLwovLyBSZXR1cm5zIFtlbmQsIHN1bV0sIHdoZXJlIGVuZCBpcyBvbmUgcGFzdCB0aGUgbGFzdCByZWN0YW5nbGUgYW5kIHN1bSBpcyB0aGUKLy8gMi1kIHN1bSBvZiB0aGUgcmVjdGFuZ2xlcycgYXJlYXMuCmZ1bmN0aW9uIHNlbGVjdFNwYW4obm9kZXMsIHNwYWNlLCBzdGFydCkgewogIC8vIEFkZCByZWN0YW5nbGUgb25lIGJ5IG9uZSwgc3RvcHBpbmcgd2hlbiBhc3BlY3QgcmF0aW9zIGJlZ2luIHRvIGdvCiAgLy8gYmFkLiAgUmVzdWx0IGlzIFtzdGFydCxlbmQpIGNvdmVyaW5nIHRoZSBiZXN0IHJ1biBmb3IgdGhpcyBzcGFuLgogIC8vIGh0dHA6Ly9jaXRlc2VlcnguaXN0LnBzdS5lZHUvdmlld2RvYy9zdW1tYXJ5P2RvaT0xMC4xLjEuMzYuNjY4NQogIHZhciBub2RlID0gbm9kZXNbc3RhcnRdOwogIHZhciBybWluID0gbm9kZS5kYXRhWyckYXJlYSddOyAgLy8gU21hbGxlc3Qgc2VlbiBjaGlsZCBzbyBmYXIuCiAgdmFyIHJtYXggPSBybWluOyAgICAgICAgICAgICAgICAvLyBMYXJnZXN0IGNoaWxkLgogIHZhciByc3VtID0gMDsgICAgICAgICAgICAgICAgICAgLy8gU3VtIG9mIGNoaWxkcmVuIGluIHRoaXMgc3Bhbi4KICB2YXIgbGFzdF9zY29yZSA9IDA7ICAgICAgICAgICAgIC8vIEJlc3Qgc2NvcmUgeWV0IGZvdW5kLgogIGZvciAodmFyIGVuZCA9IHN0YXJ0OyBub2RlID0gbm9kZXNbZW5kXTsgKytlbmQpIHsKICAgIHZhciBzaXplID0gbm9kZS5kYXRhWyckYXJlYSddOwogICAgaWYgKHNpemUgPCBybWluKQogICAgICBybWluID0gc2l6ZTsKICAgIGlmIChzaXplID4gcm1heCkKICAgICAgcm1heCA9IHNpemU7CiAgICByc3VtICs9IHNpemU7CgogICAgLy8gVGhpcyBmb3JtdWxhIGlzIGZyb20gdGhlIHBhcGVyLCBidXQgeW91IGNhbiBlYXNpbHkgcHJvdmUgdG8KICAgIC8vIHlvdXJzZWxmIGl0J3MgdGFraW5nIHRoZSBsYXJnZXIgb2YgdGhlIHgveSBhc3BlY3QgcmF0aW8gb3IgdGhlCiAgICAvLyB5L3ggYXNwZWN0IHJhdGlvLiAgVGhlIGFkZGl0aW9uYWwgbWFnaWMgZnVkZ2UgY29uc3RhbnQgb2Yga0FzcGVjdFJhdGlvCiAgICAvLyBsZXRzIHVzIHByZWZlciB3aWRlciByZWN0YW5nbGVzIHRvIHRhbGxlciBvbmVzLgogICAgdmFyIHNjb3JlID0gTWF0aC5tYXgoc3BhY2Uqc3BhY2Uqcm1heCAvIChyc3VtKnJzdW0pLAogICAgICAgICAgICAgICAgICAgICAgICAga0FzcGVjdFJhdGlvKnJzdW0qcnN1bSAvIChzcGFjZSpzcGFjZSpybWluKSk7CiAgICBpZiAobGFzdF9zY29yZSAmJiBzY29yZSA+IGxhc3Rfc2NvcmUpIHsKICAgICAgcnN1bSAtPSBzaXplOyAgLy8gVW5kbyBzaXplIGFkZGl0aW9uIGZyb20ganVzdCBhYm92ZS4KICAgICAgYnJlYWs7CiAgICB9CiAgICBsYXN0X3Njb3JlID0gc2NvcmU7CiAgfQogIHJldHVybiBbZW5kLCByc3VtXTsKfQoKZnVuY3Rpb24gbGF5b3V0KHRyZWUsIGxldmVsLCB3aWR0aCwgaGVpZ2h0KSB7CiAgaWYgKCEoJ2NoaWxkcmVuJyBpbiB0cmVlKSkKICAgIHJldHVybjsKCiAgdmFyIHRvdGFsID0gdHJlZS5kYXRhWyckYXJlYSddOwoKICAvLyBYWFggd2h5IGRvIEkgbmVlZCBhbiBleHRyYSAtMS8tMiBoZXJlIGZvciB3aWR0aC9oZWlnaHQgdG8gbG9vayByaWdodD8KICB2YXIgeDEgPSAwLCB5MSA9IDAsIHgyID0gd2lkdGggLSAxLCB5MiA9IGhlaWdodCAtIDI7CiAgeDEgKz0ga1BhZGRpbmc7IHkxICs9IGtQYWRkaW5nOwogIHgyIC09IGtQYWRkaW5nOyB5MiAtPSBrUGFkZGluZzsKICB5MSArPSAxNDsgIC8vIFhYWCBnZXQgZmlyc3QgY2hpbGQgaGVpZ2h0IGZvciBjYXB0aW9uIHNwYWNpbmcKCiAgdmFyIHBpeGVsc190b191bml0cyA9IE1hdGguc3FydCh0b3RhbCAvICgoeDIgLSB4MSkgKiAoeTIgLSB5MSkpKTsKCiAgLy8gVGhlIGFsZ29yaXRobSBkb2VzIGJlc3QgYXQgbGF5aW5nIG91dCBpdGVtcyBmcm9tIGxhcmdlc3QgdG8gc21hbGxlc3QuCiAgLy8gU29ydCB0aGVtIHRvIGVuc3VyZSB0aGlzLgogIGlmICghdHJlZS5jaGlsZHJlbi5zb3J0ZWQpIHsKICAgIHRyZWUuY2hpbGRyZW4uc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICByZXR1cm4gYi5kYXRhWyckYXJlYSddIC0gYS5kYXRhWyckYXJlYSddOwogICAgfSk7CiAgICB0cmVlLmNoaWxkcmVuLnNvcnRlZCA9IHRydWU7CiAgfQoKICBmb3IgKHZhciBzdGFydCA9IDAsIGNoaWxkOyBjaGlsZCA9IHRyZWUuY2hpbGRyZW5bc3RhcnRdOyArK3N0YXJ0KSB7CiAgICBpZiAoeDIgLSB4MSA8IDYwIHx8IHkyIC0geTEgPCA0MCkgewogICAgICBpZiAoY2hpbGQuZG9tKSB7CiAgICAgICAgY2hpbGQuZG9tLnN0eWxlLnpJbmRleCA9IDA7CiAgICAgICAgcG9zaXRpb24oY2hpbGQuZG9tLCAtMiwgLTIsIDAsIDApOwogICAgICAgIGNvbG9yaXplKGNoaWxkKQogICAgICB9CiAgICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIER5bmFtaWNhbGx5IGRlY2lkZSB3aGV0aGVyIHRvIHNwbGl0IGluIHggb3IgeSBiYXNlZCBvbiBhc3BlY3QgcmF0aW8uCiAgICB2YXIgeXNwbGl0ID0gKCh5MiAtIHkxKSAvICh4MiAtIHgxKSkgPiBrQXNwZWN0UmF0aW87CgogICAgdmFyIHNwYWNlOyAgLy8gU3BhY2UgYXZhaWxhYmxlIGFsb25nIGxheW91dCBheGlzLgogICAgaWYgKHlzcGxpdCkKICAgICAgc3BhY2UgPSAoeTIgLSB5MSkgKiBwaXhlbHNfdG9fdW5pdHM7CiAgICBlbHNlCiAgICAgIHNwYWNlID0gKHgyIC0geDEpICogcGl4ZWxzX3RvX3VuaXRzOwoKICAgIHZhciBzcGFuID0gc2VsZWN0U3Bhbih0cmVlLmNoaWxkcmVuLCBzcGFjZSwgc3RhcnQpOwogICAgdmFyIGVuZCA9IHNwYW5bMF0sIHJzdW0gPSBzcGFuWzFdOwoKICAgIC8vIE5vdyB0aGF0IHdlJ3ZlIHNlbGVjdGVkIGEgc3BhbiwgbGF5IG91dCByZWN0YW5nbGVzIFtzdGFydCxlbmQpIGluIG91cgogICAgLy8gYXZhaWxhYmxlIHNwYWNlLgogICAgdmFyIHggPSB4MSwgeSA9IHkxOwogICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHsKICAgICAgY2hpbGQgPSB0cmVlLmNoaWxkcmVuW2ldOwogICAgICBpZiAoIWNoaWxkLmRvbSkgewogICAgICAgIGNoaWxkLnBhcmVudCA9IHRyZWU7CiAgICAgICAgY2hpbGQuZG9tID0gbWFrZURvbShjaGlsZCwgbGV2ZWwgKyAxKTsKICAgICAgICB0cmVlLmRvbS5hcHBlbmRDaGlsZChjaGlsZC5kb20pOwogICAgICB9IGVsc2UgewogICAgICAgIGNoaWxkLmRvbS5zdHlsZS56SW5kZXggPSAxOwogICAgICB9CiAgICAgIHZhciBzaXplID0gY2hpbGQuZGF0YVsnJGFyZWEnXTsKICAgICAgdmFyIGZyYWMgPSBzaXplIC8gcnN1bTsKICAgICAgaWYgKHlzcGxpdCkgewogICAgICAgIHdpZHRoID0gcnN1bSAvIHNwYWNlOwogICAgICAgIGhlaWdodCA9IHNpemUgLyB3aWR0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICBoZWlnaHQgPSByc3VtIC8gc3BhY2U7CiAgICAgICAgd2lkdGggPSBzaXplIC8gaGVpZ2h0OwogICAgICB9CiAgICAgIHdpZHRoIC89IHBpeGVsc190b191bml0czsKICAgICAgaGVpZ2h0IC89IHBpeGVsc190b191bml0czsKICAgICAgd2lkdGggPSBNYXRoLnJvdW5kKHdpZHRoKTsKICAgICAgaGVpZ2h0ID0gTWF0aC5yb3VuZChoZWlnaHQpOwogICAgICBwb3NpdGlvbihjaGlsZC5kb20sIHgsIHksIHdpZHRoLCBoZWlnaHQpOwogICAgICBjb2xvcml6ZShjaGlsZCkKICAgICAgaWYgKCdjaGlsZHJlbicgaW4gY2hpbGQpIHsKICAgICAgICBsYXlvdXQoY2hpbGQsIGxldmVsICsgMSwgd2lkdGgsIGhlaWdodCk7CiAgICAgIH0KICAgICAgaWYgKHlzcGxpdCkKICAgICAgICB5ICs9IGhlaWdodDsKICAgICAgZWxzZQogICAgICAgIHggKz0gd2lkdGg7CiAgICB9CgogICAgLy8gU2hyaW5rIG91ciBhdmFpbGFibGUgc3BhY2UgYmFzZWQgb24gdGhlIGFtb3VudCB3ZSB1c2VkLgogICAgaWYgKHlzcGxpdCkKICAgICAgeDEgKz0gTWF0aC5yb3VuZCgocnN1bSAvIHNwYWNlKSAvIHBpeGVsc190b191bml0cyk7CiAgICBlbHNlCiAgICAgIHkxICs9IE1hdGgucm91bmQoKHJzdW0gLyBzcGFjZSkgLyBwaXhlbHNfdG9fdW5pdHMpOwoKICAgIC8vIGVuZCBwb2ludHMgb25lIHBhc3Qgd2hlcmUgd2UgZW5kZWQsIHdoaWNoIGlzIHdoZXJlIHdlIHdhbnQgdG8KICAgIC8vIGJlZ2luIHRoZSBuZXh0IGl0ZXJhdGlvbiwgYnV0IHN1YnRyYWN0IG9uZSB0byBiYWxhbmNlIHRoZSArKyBpbgogICAgLy8gdGhlIGxvb3AuCiAgICBzdGFydCA9IGVuZCAtIDE7CiAgfQp9CgpmdW5jdGlvbiBhcHBlbmRUcmVlbWFwKGRvbSwgZGF0YSkgewogIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZG9tLCBudWxsKTsKICB2YXIgd2lkdGggPSBwYXJzZUludChzdHlsZS53aWR0aCk7CiAgdmFyIGhlaWdodCA9IHBhcnNlSW50KHN0eWxlLmhlaWdodCk7CiAgaWYgKCFkYXRhLmRvbSkKICAgIG1ha2VEb20oZGF0YSwgMCk7CiAgZG9tLmFwcGVuZENoaWxkKGRhdGEuZG9tKTsKICBwb3NpdGlvbihkYXRhLmRvbSwgMCwgMCwgd2lkdGgsIGhlaWdodCk7CiAgbGF5b3V0KGRhdGEsIDAsIHdpZHRoLCBoZWlnaHQpOwp9Cgp3aW5kb3cuYXBwZW5kVHJlZW1hcCA9IGFwcGVuZFRyZWVtYXA7Cn0pKHdpbmRvdyk7Cg=="></script>

<script>
  let selectedBundleId = '0';

  function selectBundle(bundleId) {
    const bundle = treeDataMap[bundleId];
    appendTreemap(map, bundle.data);
    document.title = bundle.name + ' - Source Map Explorer';
  }

  const map = document.getElementById('map');


  window.addEventListener('resize', function() {
    selectBundle(selectedBundleId);
  });

  selectBundle(selectedBundleId);
</script>
<html>


`

exports['CLI should print multiple results as JSON 1'] = `
{
  "results": [
    {
      "bundleName": "data/inline-map.js",
      "totalBytes": 2991,
      "unmappedBytes": 1,
      "eolBytes": 1,
      "sourceMapCommentBytes": 2308,
      "files": {
        "node_modules/browser-pack/_prelude.js": 480,
        "src/bar.js": 104,
        "src/foo.js": 97,
        "[sourceMappingURL]": 2308,
        "[unmapped]": 1
      },
      "filesCoverage": {}
    },
    {
      "bundleName": "data/foo.min.js",
      "totalBytes": 718,
      "unmappedBytes": 1,
      "eolBytes": 1,
      "sourceMapCommentBytes": 35,
      "files": {
        "node_modules/browser-pack/_prelude.js": 480,
        "src/bar.js": 104,
        "src/foo.js": 97,
        "[sourceMappingURL]": 35,
        "[unmapped]": 1
      },
      "filesCoverage": {}
    }
  ]
}

`

exports['CLI should print result as JSON and support path wrapped by quotes 1'] = `
{
  "results": [
    {
      "bundleName": "data/inline-map.js",
      "totalBytes": 2991,
      "unmappedBytes": 1,
      "eolBytes": 1,
      "sourceMapCommentBytes": 2308,
      "files": {
        "node_modules/browser-pack/_prelude.js": 480,
        "src/bar.js": 104,
        "src/foo.js": 97,
        "[sourceMappingURL]": 2308,
        "[unmapped]": 1
      },
      "filesCoverage": {}
    }
  ]
}

`
